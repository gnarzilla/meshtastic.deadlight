[core]
port = 8080
max_connections = 50
log_level = info

[meshtastic]
enabled = true
serial_port = /dev/ttyACM0
baud_rate = 115200
mesh_node_id = 0x14e7cdaf
fragment_size = 220
ack_timeout = 30000
max_retries = 3
hop_limit = 3

[ssl]
enabled = true
ca_cert_file = /home/thatch/.deadlight/ca.crt
ca_key_file = /home/thatch/.deadlight/ca.key

[network]
connection_pool_size = 5
connection_pool_timeout = 600
upstream_timeout = 120

[plugins]
#Enable plugin system
enabled=true
#Plugin directory
plugin_dir=./bin/plugins
#Auto-load plugins
autoload=adblocker,logger,stats
#Enable built-in plugins
builtin_enabled=true

[plugin.compressor]
enabled = true
min_size = 512
algorithms = gzip

[plugin.cache]
enabled = true
max_size_mb = 500
ttl_hours = 24

[plugin.adblocker]
#Enable ad blocker
enabled=true
#Blocklist URL
blocklist_url=https://raw.githubusercontent.com/StevenBlack/hosts/master/hosts
#Local blocklist file
blocklist_file=/var/cache/deadlight/blocklist.txt
#Blocklist update interval (seconds)
update_interval=86400
#Custom blocking rules file
custom_rules=

[plugin.logger]
#Enable request logging
enabled=true
#Log HTTP requests
log_requests=true
#Log HTTP responses
log_responses=false
#Log format: combined, common, json
log_format=combined
#Access log file
log_file=/var/log/deadlight/access.log
#Maximum log file size
max_log_size=100MB
#Log rotation: daily, weekly, size
log_rotation=daily

[plugin.stats]
#Enable statistics collection
enabled=true
#Statistics update interval
stats_interval=60
#Statistics history size (minutes)
history_size=1440
#Enable web statistics interface
web_interface=true
#Web interface port
web_port=8081

[plugin.auth]
#Enable authentication
enabled=false
#Authentication type: basic, digest
auth_type=basic
#Authentication file
auth_file=/etc/deadlight/users.txt
#Authentication realm
auth_realm=Deadlight Proxy
#Require authentication for all requests
require_auth=false
